var app=angular.module("movieApp",[]);app.controller("MovieController",["$scope","$http",function(a,b){a.inputMovie={},a.getMovieInfo=function(){a.movieUrl="http://omdbapi.com/?t="+a.inputMovie.title+"&y="+a.inputMovie.year+"&plot=full&r=json",b.get(a.movieUrl).then(function(b){a.newMovie={},a.newMovie=b.data,console.log(a.newMovie),a.movie={}})},a.saveMovie=function(){console.log("POST newMovie",a.newMovie),b.post("/save",a.newMovie).then(function(a){200!==a.status?console.log("Movie saved"):(console.log(a),console.log("Error"))}),a.getMovieCollection()},a.getMovieCollection=function(){return b.get("/movies").then(function(b){if(200!==b.status)throw new Error("Failed to get movies");return a.movies=b.data,a.movies})},a.getMovieCollection()}]);